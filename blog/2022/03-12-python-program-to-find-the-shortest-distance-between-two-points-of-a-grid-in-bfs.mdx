---
title: "BFSでグリッドの２点間の最短距離を求めるPythonプログラム"
authors:
  - snake
slug: python-program-to-find-the-shortest-distance-between-two-points-of-a-grid-in-bfs
date_published: 2022-03-11T23:00:00.000Z
date_updated: 2022-11-17T13:07:01.000Z
tags: [Python, アルゴリズム]
---

N*Mのグリッドが与えられた際に、障害物を除いた道のみを通り、スタート地点からゴール地点までの最短経路を見つけるPythonプログラムを作成します。

## 条件

- グリッドは二次元配列の行列で与えられる。
- グリッドのサイズはN*Mで変化する。
- 上下左右のみ移動可能、斜め移動はできない。
- 障害物は `#` で表現され、そのセルを通過することはできない。
- 道は `.` で表現され、そのセルは通過することができる。
- スタート地点は `S` で表現され、必ず１つである。
- ゴール地点は `G` で表現され、必ず１つである。
- ゴール地点を発見した場合、スタート地点からゴール地点までの最短距離を出力する。
- ゴール地点を発見できなかった場合、 `-1` を出力する。

## アルゴリズム

重み付けがされていない為、BFS(幅優先探索)を使用して、最短経路を探します。

以下は、Wikipediaの幅優先探索ページから引用します。

> **幅優先探索**（はばゆうせんたんさく、[英](https://ja.wikipedia.org/wiki/%E8%8B%B1%E8%AA%9E): breadth first search）は[グラフ理論](https://ja.wikipedia.org/wiki/%E3%82%B0%E3%83%A9%E3%83%95%E7%90%86%E8%AB%96)([Graph theory](https://en.wikipedia.org/wiki/graph_theory))において[木構造](https://ja.wikipedia.org/wiki/%E6%9C%A8%E6%A7%8B%E9%80%A0_(%E3%83%87%E3%83%BC%E3%82%BF%E6%A7%8B%E9%80%A0))([tree structure](https://en.wikipedia.org/wiki/tree_structure))や[グラフ](https://ja.wikipedia.org/wiki/%E3%82%B0%E3%83%A9%E3%83%95_(%E3%83%87%E3%83%BC%E3%82%BF%E6%A7%8B%E9%80%A0))([graph](https://en.wikipedia.org/wiki/graph_(data_structure)))の[探索](https://ja.wikipedia.org/wiki/%E6%8E%A2%E7%B4%A2)に用いられる[アルゴリズム](https://ja.wikipedia.org/wiki/%E3%82%A2%E3%83%AB%E3%82%B4%E3%83%AA%E3%82%BA%E3%83%A0)。アルゴリズムは根ノードで始まり隣接した全てのノードを探索する。それからこれらの最も近いノードのそれぞれに対して同様のことを繰り返して探索対象ノードをみつける。「**横型探索**」とも言われる。
> 幅優先探索は解を探すために、グラフの全てのノードを網羅的に展開・検査する。[最良優先探索](https://ja.wikipedia.org/wiki/%E6%9C%80%E8%89%AF%E5%84%AA%E5%85%88%E6%8E%A2%E7%B4%A2)とは異なり、ノード探索に[ヒューリスティクス](https://ja.wikipedia.org/wiki/%E3%83%92%E3%83%A5%E3%83%BC%E3%83%AA%E3%82%B9%E3%83%86%E3%82%A3%E3%82%AF%E3%82%B9)を使わずに、グラフ全体を目的のノードがみつかるまで、目的のノードに接近しているかどうかなどは考慮せず探索する。

[幅優先探索 - Wikipedia](https://ja.wikipedia.org/wiki/%E5%B9%85%E5%84%AA%E5%85%88%E6%8E%A2%E7%B4%A2)

## プログラム

Python3で記述します。
